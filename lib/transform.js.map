{"version":3,"sources":["../src/transform.js"],"names":["protoMutators","filterByKeys","definition","candidate","keys","intersection","pick","transform","mutators","Object","assign","reduce","memo","value","key","isFunction","defineProperty","get","set"],"mappings":";;;;;;;AAAA;;;;;;;;AAEA,IAAIA,gBAAgB,EAApB;;AAEO,IAAMC,sCAAe,SAAfA,YAAe,CAACC,UAAD,EAAaC,SAAb,EAA2B;AACrD,MAAMC,OAAO,iBAAEC,YAAF,CAAe,iBAAED,IAAF,CAAOF,UAAP,CAAf,EAAmC,iBAAEE,IAAF,CAAOD,SAAP,CAAnC,CAAb;AACA,SAAO,iBAAEG,IAAF,CAAOH,SAAP,EAAkBC,IAAlB,CAAP;AACD,CAHM;;AAKA,IAAMG,gCAAY,SAAZA,SAAY,CAACL,UAAD,EAAaC,SAAb,EAAqD;AAAA,MAA7BK,QAA6B,uEAAlBR,aAAkB;;AAC5E,SAAOS,OAAOC,MAAP,CACLT,aAAaC,UAAb,EAAyBC,SAAzB,CADK,EAEL,iBAAEQ,MAAF,CAASH,QAAT,EAAmB,UAACI,IAAD,EAAOC,KAAP,EAAcC,GAAd;AAAA,WAAsBL,OAAOC,MAAP,qBACtCI,GADsC,EAChC,iBAAEC,UAAF,CAAaF,KAAb,IAAsBA,MAAMV,SAAN,CAAtB,GAAyCU,KADT,GAEtCD,IAFsC,CAAtB;AAAA,GAAnB,EAEU,EAFV,CAFK,CAAP;AAMD,CAPM;;AASPH,OAAOO,cAAP,CAAsBT,SAAtB,EAAiC,UAAjC,EAA6C;AAC3CU,OAAK;AAAA,WAAMjB,aAAN;AAAA,GADsC;AAE3CkB,OAAK,aAACV,QAAD,EAAc;AACjBR,oBAAgBQ,QAAhB;AACD;AAJ0C,CAA7C","file":"transform.js","sourcesContent":["import _ from 'lodash'\n\nlet protoMutators = {}\n\nexport const filterByKeys = (definition, candidate) => {\n  const keys = _.intersection(_.keys(definition), _.keys(candidate))\n  return _.pick(candidate, keys)\n}\n\nexport const transform = (definition, candidate, mutators = protoMutators) => {\n  return Object.assign(\n    filterByKeys(definition, candidate),\n    _.reduce(mutators, (memo, value, key) => Object.assign({\n      [key]: _.isFunction(value) ? value(candidate) : value\n    }, memo), {})\n  )\n}\n\nObject.defineProperty(transform, 'mutators', {\n  get: () => protoMutators,\n  set: (mutators) => {\n    protoMutators = mutators\n  }\n})\n"]}