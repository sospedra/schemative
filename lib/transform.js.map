{"version":3,"sources":["../src/transform.js"],"names":["protoMutators","filterByKeys","definition","candidate","matchingKeys","transform","mutators","Object","assign","memo","value","key","defineProperty","get","set"],"mappings":";;;;;;;AAAA;;;;AAQA,IAAIA,gBAAgB,EAApB;;AAEO,IAAMC,sCAAe,SAAfA,YAAe,CAACC,UAAD,EAAaC,SAAb,EAA2B;AACrD,MAAMC,eAAe,0BAAa,kBAAKF,UAAL,CAAb,EAA+B,kBAAKC,SAAL,CAA/B,CAArB;AACA,SAAO,kBAAKA,SAAL,EAAgBC,YAAhB,CAAP;AACD,CAHM;;AAKA,IAAMC,gCAAY,SAAZA,SAAY,CAACH,UAAD,EAAaC,SAAb,EAAqD;AAAA,MAA7BG,QAA6B,uEAAlBN,aAAkB;;AAC5E,SAAOO,OAAOC,MAAP,CACLP,aAAaC,UAAb,EAAyBC,SAAzB,CADK,EAEL,oBAAOG,QAAP,EAAiB,UAACG,IAAD,EAAOC,KAAP,EAAcC,GAAd;AAAA,WAAsBJ,OAAOC,MAAP,qBACpCG,GADoC,EAC9B,wBAAWD,KAAX,IAAoBA,MAAMP,SAAN,CAApB,GAAuCO,KADT,GAEpCD,IAFoC,CAAtB;AAAA,GAAjB,EAEU,EAFV,CAFK,CAAP;AAMD,CAPM;;AASPF,OAAOK,cAAP,CAAsBP,SAAtB,EAAiC,UAAjC,EAA6C;AAC3CQ,OAAK;AAAA,WAAMb,aAAN;AAAA,GADsC;AAE3Cc,OAAK,aAACR,QAAD,EAAc;AACjBN,oBAAgBM,QAAhB;AACD;AAJ0C,CAA7C","file":"transform.js","sourcesContent":["import {\n  intersection,\n  pick,\n  keys,\n  reduce,\n  isFunction\n} from 'lodash'\n\nlet protoMutators = {}\n\nexport const filterByKeys = (definition, candidate) => {\n  const matchingKeys = intersection(keys(definition), keys(candidate))\n  return pick(candidate, matchingKeys)\n}\n\nexport const transform = (definition, candidate, mutators = protoMutators) => {\n  return Object.assign(\n    filterByKeys(definition, candidate),\n    reduce(mutators, (memo, value, key) => Object.assign({\n      [key]: isFunction(value) ? value(candidate) : value\n    }, memo), {})\n  )\n}\n\nObject.defineProperty(transform, 'mutators', {\n  get: () => protoMutators,\n  set: (mutators) => {\n    protoMutators = mutators\n  }\n})\n"]}