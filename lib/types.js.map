{"version":3,"sources":["../src/types.js"],"names":["evaluateValueType","candidate","fallback","console","warn","charge","value","base","defaultValue","charged","baseIsRequired","isRequired","undefined","properties","memo","property","get","log","Object","defineProperties","createType","scalar","propType","type","getOwnPropertyNames","forEach","defineProperty","any","array","bool","element","func","number","object","shape","string","symbol","Symbol"],"mappings":";;;;;;;;;AAAA;;AACA;;;;;;;;AAEA,IAAMA,oBAAoB,SAApBA,iBAAoB,CAACC,SAAD,EAAYC,QAAZ,EAAyB;AACjD,MAAI,QAAOD,SAAP,yCAAOA,SAAP,eAA4BC,QAA5B,yCAA4BA,QAA5B,EAAJ,EAA0C;AACxCC,YAAQC,IAAR,CACE,kCADF,SAESF,QAFT,yCAESA,QAFT,GAEmB,aAFnB,SAEyCD,SAFzC,yCAEyCA,SAFzC,GAGE,MAHF,EAGUA,SAHV,EAGqB,gBAHrB,EAIE,oCAJF;;AAOA,WAAOC,QAAP;AACD;;AAED,SAAOD,SAAP;AACD,CAbD;;AAeA,IAAMI,SAAS,SAATA,MAAS,CAACC,KAAD,EAAQC,IAAR,EAAcC,YAAd,EAA+B;AAC5C,MAAMC,UAAU,oBAAO,EAAP,EAAWF,IAAX,EAAiB;AAC/BD,WAAON,kBAAkBM,KAAlB,EAAyBE,YAAzB,CADwB;AAE/BE,oBAAgB,KAFe;AAG/BC,gBAAYC;AAHmB,GAAjB,CAAhB;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,aAAa,oBAAOJ,OAAP,EAAgB,UAACK,IAAD,EAAOR,KAAP,EAAcS,QAAd,EAA2B;AAC5D,WAAO,oBAAO,EAAP,EAAWD,IAAX,sBACJC,QADI,EACO;AACVC,WAAK;AAAA,eAAMV,KAAN;AAAA;AADK,KADP,EAAP;AAKD,GANkB,EAMhB,EANgB,CAAnB;;AAQAH,UAAQc,GAAR,CAAYJ,UAAZ;;AAEA,SAAOK,OAAOC,gBAAP,CAAwB,EAAxB,EAA4BN,UAA5B,CAAP;AACD,CA5BD;;AA8BA,IAAMO,aAAa,SAAbA,UAAa,CAACC,MAAD,EAASb,YAAT,EAA0B;AAC3C,MAAMc,WAAW,oBAAUD,MAAV,CAAjB;AACA,MAAMd,OAAOF,OAAOG,YAAP,EAAqB,EAAEa,cAAF,EAAUC,kBAAV,EAArB,EAA2Cd,YAA3C,CAAb;AACA,MAAMe,OAAO,SAAPA,IAAO,CAACjB,KAAD;AAAA,WAAWD,OAAOC,KAAP,EAAcC,IAAd,EAAoBC,YAApB,CAAX;AAAA,GAAb;;AAEAU,SAAOM,mBAAP,CAA2BjB,IAA3B,EAAiCkB,OAAjC,CAAyC,UAACV,QAAD,EAAc;AACrDG,WAAOQ,cAAP,CAAsBH,IAAtB,EAA4BR,QAA5B,EAAsC;AACpCC,WAAK;AAAA,eAAMT,KAAKQ,QAAL,CAAN;AAAA;AAD+B,KAAtC;AAGD,GAJD;;AAMA,SAAOQ,IAAP;AACD,CAZD;;AAcO,IAAMI,oBAAMP,WAAW,KAAX,EAAkB,IAAlB,CAAZ;AACA,IAAMQ,wBAAQR,WAAW,OAAX,EAAoB,EAApB,CAAd;AACA,IAAMS,sBAAOT,WAAW,MAAX,EAAmB,IAAnB,CAAb;AACA,IAAMU,4BAAUV,WAAW,SAAX,eAAhB;AACA,IAAMW,sBAAOX,WAAW,MAAX,eAAb;AACA,IAAMY,0BAASZ,WAAW,QAAX,EAAqB,CAArB,CAAf;AACA,IAAMa,0BAASb,WAAW,QAAX,EAAqB,EAArB,CAAf;AACA,IAAMc,wBAAQd,WAAW,OAAX,EAAoB,EAApB,CAAd;AACA,IAAMe,0BAASf,WAAW,QAAX,EAAqB,EAArB,CAAf;AACA,IAAMgB,0BAAShB,WAAW,QAAX,EAAqBiB,OAAO,EAAP,CAArB,CAAf","file":"types.js","sourcesContent":["import { assign, reduce, noop } from 'lodash'\nimport PropTypes from 'prop-types'\n\nconst evaluateValueType = (candidate, fallback) => {\n  if (typeof candidate !== typeof fallback) {\n    console.warn(\n      'Evalute Schemative type expected',\n      typeof fallback, 'but receive', typeof candidate,\n      'when', candidate, 'value was set.',\n      'Default value is returned instead.'\n    )\n\n    return fallback\n  }\n\n  return candidate\n}\n\nconst charge = (value, base, defaultValue) => {\n  const charged = assign({}, base, {\n    value: evaluateValueType(value, defaultValue),\n    baseIsRequired: false,\n    isRequired: undefined\n  })\n  // @FIXME Use defineProperties\n  // const target = {}\n  //\n  // Object.keys(charged).forEach((property) => {\n  //   Object.defineProperty(target, property, {\n  //     get: () => charged[property]\n  //   })\n  // })\n  //\n  // return target\n\n  const properties = reduce(charged, (memo, value, property) => {\n    return assign({}, memo, {\n      [property]: {\n        get: () => value\n      }\n    })\n  }, {})\n\n  console.log(properties)\n\n  return Object.defineProperties({}, properties)\n}\n\nconst createType = (scalar, defaultValue) => {\n  const propType = PropTypes[scalar]\n  const base = charge(defaultValue, { scalar, propType }, defaultValue)\n  const type = (value) => charge(value, base, defaultValue)\n\n  Object.getOwnPropertyNames(base).forEach((property) => {\n    Object.defineProperty(type, property, {\n      get: () => base[property]\n    })\n  })\n\n  return type\n}\n\nexport const any = createType('any', true)\nexport const array = createType('array', [])\nexport const bool = createType('bool', true)\nexport const element = createType('element', noop)\nexport const func = createType('func', noop)\nexport const number = createType('number', 0)\nexport const object = createType('object', {})\nexport const shape = createType('shape', {})\nexport const string = createType('string', '')\nexport const symbol = createType('symbol', Symbol(''))\n"]}